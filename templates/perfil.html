<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Perfil Usuario</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='main.css') }}">

    <!-- Plantilla de Bootstrap -->
     <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootswatch@4.5.2/dist/lumen/bootstrap.min.css" integrity="sha384-GzaBcW6yPIfhF+6VpKMjxbTx6tvR/yRd/yJub90CqoIn2Tz4rRXlSpTFYMKHCifX" crossorigin="anonymous">
     <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" integrity="sha512-bFN5Hl4hFTVlKZDJyuxs2QPe5S6sXz4Im0PYCBDeSEBjVyI+Xy/hXwj5L2i7yB0W3FEB9L4JB5s0kPl/WUHuJA==" crossorigin="anonymous" referrerpolicy="no-referrer" />

</head>
<body>
    {% extends "menu.html" %}
    {% block content %}

    <main class="container p-4" id="formdatos">
                <h2 class="display-4 text-center mt-4">Datos Personales</h2>
                <div class="row">
                    <div class="col-md-4 offset-md-4 my-auto"> <!--Este div ocupará 4 columnas del espacio (centrado)-->
                        <div class="card"> <!--Creacion del objeto card-->
                            <div class="card-header">
                                {% if msg_correcto %}
                                    <p class="text-success infocontrabien">{{msg_correcto}}</p>
                                {% endif %}
                            <table class="table table-hover">
                                <tbody>
                                    <tr class="table-primary">
                                        <th scope="row" >Nombre:</th>
                                        <td>{{user.nombre}}</td>
                                    </tr>
                                    <tr class="table-active">
                                        <th scope="row" >Apellidos:</th>
                                        <td>{{user.apellidos}}</td>
                                    </tr>
                                    <tr class="table-primary">
                                        <th scope="row" >DNI:</th>
                                        <td>{{user.dni}}</td>
                                    </tr>
                                    <tr class="table-active">
                                        <th scope="row" >E-mail:</th>
                                        <td>{{user.email}}</td>
                                    </tr>
                                    <tr class="table-primary">
                                        <th scope="row" >Dirección:</th>
                                        <td>{{user.direccion}}</td>
                                    </tr>
                                    <tr class="table-active">
                                        <th scope="row" >CP:</th>
                                        <td>{{user.cp}}</td>
                                    </tr>
                                    <tr class="table-primary">
                                        <th scope="row" >Provincia:</th>
                                        <td>{{user.provincia}}</td>
                                    </tr>
                                    <tr class="table-active">
                                        <th scope="row" >Teléfono:</th>
                                        <td>{{user.telf}}</td>
                                    </tr>
                                </tbody>
                            </table>

                            </div>
                            <div class="card-body">
                                <input type="button" class="btn btn-primary btn-lg btn-block" value="Editar Datos" onclick="mostrarEditar()">
                            </div>
                       </div>
                    </div>
                </div>
        </main>
    <main class="container p-4" style="display:none" id="formeditar">
        <h2 class="display-4 text-center mt-4">Editar Datos</h2>
                <div class="row">
                    <div class="col-md-4 offset-md-4 my-auto">
                        <div class="card">
                            <div class="card-header">
                                <form action="/editar-perfil" method="POST">
                                    <div class="form-group">
                                        <label for="inputnombre">Nombre:</label>
                                        <input type="text" class="form-control" id="inputnombre" value="{{user.nombre}}" name="nombre">
                                    </div>
                                    <div class="form-group">
                                        <label for="inputapellido">Apellido:</label>
                                        <input type="text" class="form-control" id="inputapellido" value="{{user.apellidos}}" name="apellidos">
                                    </div>
                                    <div class="form-group">
                                        <label for="inputdni">DNI:</label>
                                        <input type="text" class="form-control" id="inputdni" value="{{user.dni}}" name="dni">
                                    </div>
                                    <div class="form-group">
                                        <label for="inputemail">Correo electrónico:</label>
                                        <input type="text" class="form-control" id="inputemail" value="{{user.email}}" name="email">
                                    </div>
                                    <div class="form-group">
                                        <label for="inputtlfn">Teléfono:</label>
                                        <input type="text" class="form-control" id="inputtlfn" value="{{user.telf}}" name="telf">
                                    </div>
                                    <div class="form-group">
                                        <label for="inputdireccion">Dirección:</label>
                                        <input type="text" class="form-control" id="inputdireccion" value="{{user.direccion}}" name="direccion">
                                    </div>
                                    <div class="form-group">
                                        <label for="inputpostal">CP:</label>
                                        <input type="text" class="form-control postal" id="inputpostal" value="{{user.cp}}" name="cp">
                                    </div>
                                    <div class="form-group">
                                        <label for="inputprovincia">Provincia:</label>
                                        <input type="text" class="form-control" id="inputprovincia" value="{{user.provincia}}" name="provincia">
                                    </div>
                                    <div class="card-body " >
                                        <button type="submit" class="btn btn-success btn-lg boton-editar">
                                            Guardar Cambios
                                        </button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
    </main>
     <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script>
            function mostrarEditar() {
                var filaFiltrar = document.getElementById('formeditar');
                filaFiltrar.style.display = filaFiltrar.style.display === 'none' ? 'block' : 'none';
                var filaFiltrar1 = document.getElementById('formdatos');
                filaFiltrar1.style.display = filaFiltrar1.style.display === 'none' ? 'block' : 'none';
            }
        </script>
    {% endblock %}
</body>
</html>